@using System
@{
    ViewData["Title"] = "Select a university";
}

@section styles {
    <style>
        .list-group-item.active {
            background-color: #b200ff;
        }
        
        #map-canvas {
            height: 100%;
        }
    </style>
}

@await Html.PartialAsync("_HeadingPartial", ViewData)

<div class="row">
    <div class="col">
        <div id="university-list" style="display: none" data-bind="foreach: universities, visible: true">
            <a href="#"
               class="list-group-item list-group-item-action flex-column align-items-start active"
               data-bind="click: $parent.onSelection.bind($data)">
                <div class="d-flex w-100 justify-content-between">
                    <h5 class="mb-1" data-bind="text: name"></h5>
                </div>
                <small data-bind="text: vicinity"></small>
            </a>
        </div>
    </div>
    <div class="col">
        <div id="map-canvas" style="display: none" data-bind="visible: showMap"></div>
    </div>
</div>

@Html.Hidden("RedirectTo", Url.Action("Chatroom", "Chat"))

@section scripts {
    <script src="~/lib/signalr/jquery.signalR.min.js"></script>
    <script src="~/signalr/hubs"></script>
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&key=AIzaSyCo9UePsjcg75Y2ZtJVsM33xJaWM6D1Qno"></script>
    <script src="~/Scripts/Chat/Proximity.js?@DateTime.Now.Ticks"></script>
}
